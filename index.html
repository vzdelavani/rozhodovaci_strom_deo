<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title>Výběr deskových her</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
    }

    h1 {
      margin-bottom: 20px;
    }

    .filter-table {
      max-width: 500px;
    }

    .filter-row {
      display: grid;
      grid-template-columns: 180px 1fr;
      align-items: center;
      margin-bottom: 12px;
      gap: 10px;
    }

    label {
      font-weight: bold;
    }

    select {
      padding: 6px;
      font-size: 14px;
    }

    .actions {
      margin-top: 20px;
    }

    button {
      padding: 8px 16px;
      font-size: 15px;
      cursor: pointer;
    }

    #results {
  margin-top: 30px;
  max-width: 700px;
}

.game-row {
  background: #f7f7f7;
  border-radius: 8px;
  padding: 12px 16px;
  margin-bottom: 15px;
}

.game-row strong {
  font-size: 17px;
}

.game-row hr {
  border: none;
  border-top: 1px solid #ddd;
  margin-top: 10px;
}

/* PANEL PRO FILTRY */
.filter-table {
  background: #f0f4f8;
  padding: 20px;
  border-radius: 10px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.08);
}

/* TLAČÍTKO */
button {
  background: #2b6cb0;
  color: white;
  border: none;
  border-radius: 6px;
}

button:hover {
  background: #234e87;
}

  </style>
</head>
<body>

<h1>Vyberte deskovou hru</h1>

<form id="filters" class="filter-table">

  <div class="filter-row">
    <label for="pocet-hracu">Počet hráčů</label>
    <select id="pocet-hracu">
      <option value="">Nezáleží</option>
      <option value="pro jednoho">Pro jednoho</option>
      <option value="pro dva">Pro dva</option>
      <option value="malá skupina (3-4)">Malá skupina (3–4)</option>
      <option value="větší skupina (5+)">Větší skupina (5+)</option>
    </select>
  </div>

  <div class="filter-row">
    <label for="herni-doba">Herní doba</label>
    <select id="herni-doba">
      <option value="">Nezáleží</option>
      <option value="do 30 minut">Do 30 minut</option>
      <option value="30-60 minut">30–60 minut</option>
      <option value="60-120 minut">60–120 minut</option>
      <option value="120+ minut">120+ minut</option>
    </select>
  </div>

  <div class="filter-row">
    <label for="mira-premysleni">Kolik u hry chcete přemýšlet?</label>
    <select id="mira-premysleni">
      <option value="">Nezáleží</option>
      <option value="oddechová hra">Oddechová hra</option>
      <option value="přemýšlecí hra">Přemýšlecí hra</option>
      <option value="náročná hra">Náročná hra</option>
    </select>
  </div>

  <div class="filter-row">
    <label for="typ-hry">Typ hry</label>
    <select id="typ-hry">
      <option value="">Nezáleží</option>
      <option value="kooperativní">Kooperativní</option>
      <option value="deduktivní">Deduktivní</option>
      <option value="postřehová">Postřehová</option>
      <option value="vědomostní">Vědomostní</option>
      <option value="strategická">Strategická</option>
      <option value="ekonomická">Ekonomická</option>
      <option value="příběhová">Příběhová</option>
      <option value="rodinná">Rodinná</option>
      <option value="párty">Párty</option>
      <option value="závodní">Závodní</option>
      <option value="logická">Logická</option>
    </select>
  </div>

  <div class="filter-row">
    <label for="tema">Téma</label>
    <select id="tema">
      <option value="">Nezáleží</option>
      <option value="historie">Historie</option>
      <option value="fantasy">Fantasy</option>
      <option value="scifi">Sci-fi</option>
      <option value="zvířata">Zvířata</option>
      <option value="sport">Sport</option>
      <option value="vikingové">Vikingové</option>
      <option value="příroda">Příroda</option>
      <option value="popkultura">Popkultura</option>
      <option value="dobrodružství">Dobrodružství</option>
      <option value="abstraktní">Abstraktní</option>
      <option value="současnost">Současnost</option>
      <option value="detektivní">Detektivní</option>
      <option value="hádanky">Hádanky</option>
      <option value="jídlo">Jídlo</option>
    </select>
  </div>

  <div class="actions">
    <button type="button" id="search-btn">Hledat</button>
  </div>

</form>
  
<div id="results"></div>

<script>
let games = [];

fetch("./games.json")
  .then(res => res.json())
  .then(data => {
    games = data.games;
    renderGames(games);   // zobrazí vše hned po načtení
  });

function renderGames(list) {
  const results = document.getElementById("results");
  results.innerHTML = "";

  if (list.length === 0) {
    results.innerHTML = "<p>Žádné hry nevyhovují filtru.</p>";
    return;
  }

  list.forEach(game => {
    const div = document.createElement("div");
    div.classList.add("game-row");
    div.innerHTML = `
      <strong>${game.nazev}</strong><br>
      Počet hráčů: ${game.pocet_hracu.join(", ")}<br>
      Herní doba: ${game.herni_doba}<br>
      Míra přemýšlení: ${game.mira_premysleni}<br>
      Typ hry: ${game.typ_hry.join(", ")}<br>
      Téma: ${game.tema}
      <hr>
    `;
    results.appendChild(div);
  });
}

document.getElementById("search-btn").addEventListener("click", () => {
  const selHraci = document.getElementById("pocet-hracu").value;
  const selDoba = document.getElementById("herni-doba").value;
  const selPremysleni = document.getElementById("mira-premysleni").value;
  const selTyp = document.getElementById("typ-hry").value;
  const selTema = document.getElementById("tema").value;

  const filtered = games.filter(game => {
    if (selHraci && !game.pocet_hracu.includes(selHraci)) return false;
    if (selDoba && game.herni_doba !== selDoba) return false;
    if (selPremysleni && game.mira_premysleni !== selPremysleni) return false;
    if (selTyp && !game.typ_hry.includes(selTyp)) return false;
    if (selTema && game.tema !== selTema) return false;
    return true;
  });

  renderGames(filtered);
});
</script>


</body>
</html>
